/* ========================================
 * Scrapbook
 * Full-width horizontal image viewer with
 * scattered, askew images on the sides
 * ======================================== */

.scrapbook {
  display: flex;
  flex-direction: column;
  flex: 1;
  min-height: 0;
}

@media (max-width: 720px) {
  .scrapbook {
    padding-top: var(--space-8);
  }
}

/* ========================================
 * Stage (full viewport width)
 * ======================================== */

.stage {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  width: 100vw;
  margin-left: calc(-50vw + 50%);
  overflow: visible;
  cursor: grab;
  user-select: none;
  touch-action: none;
}

.stage[data-dragging="true"] {
  cursor: grabbing;
}

/* Suppress nav zone clicks while dragging */
.stage[data-dragging="true"] .navZone {
  pointer-events: none;
}

/* Hide on mobile */
@media (max-width: 720px) {
  .stage {
    display: none;
  }
}

/* ========================================
 * Navigation zones (cursor-based)
 * ======================================== */

.navZone {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 50%;
  min-width: 100px;
  z-index: 20;
  background: none;
  border: none;
}

.navZone[data-direction="prev"] {
  left: 0;
  cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 640 640' fill='%23737373'%3E%3Cpath d='M320 96C443.7 96 544 196.3 544 320C544 443.7 443.7 544 320 544C196.3 544 96 443.7 96 320C96 196.3 196.3 96 320 96zM320 576C461.4 576 576 461.4 576 320C576 178.6 461.4 64 320 64C178.6 64 64 178.6 64 320C64 461.4 178.6 576 320 576zM228.7 308.7C222.5 314.9 222.5 325.1 228.7 331.3L300.7 403.3C306.9 409.5 317.1 409.5 323.3 403.3C329.5 397.1 329.5 386.9 323.3 380.7L278.6 336L400 336C408.8 336 416 328.8 416 320C416 311.2 408.8 304 400 304L278.6 304L323.3 259.3C329.5 253.1 329.5 242.9 323.3 236.7C317.1 230.5 306.9 230.5 300.7 236.7L228.7 308.7z'/%3E%3C/svg%3E") 12 12, pointer;
}

.navZone[data-direction="next"] {
  right: 0;
  cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 640 640' fill='%23737373'%3E%3Cpath transform='translate(640,0) scale(-1,1)' d='M320 96C443.7 96 544 196.3 544 320C544 443.7 443.7 544 320 544C196.3 544 96 443.7 96 320C96 196.3 196.3 96 320 96zM320 576C461.4 576 576 461.4 576 320C576 178.6 461.4 64 320 64C178.6 64 64 178.6 64 320C64 461.4 178.6 576 320 576zM228.7 308.7C222.5 314.9 222.5 325.1 228.7 331.3L300.7 403.3C306.9 409.5 317.1 409.5 323.3 403.3C329.5 397.1 329.5 386.9 323.3 380.7L278.6 336L400 336C408.8 336 416 328.8 416 320C416 311.2 408.8 304 400 304L278.6 304L323.3 259.3C329.5 253.1 329.5 242.9 323.3 236.7C317.1 230.5 306.9 230.5 300.7 236.7L228.7 308.7z'/%3E%3C/svg%3E") 12 12, pointer;
}

.navZone[data-disabled="true"] {
  cursor: default;
  pointer-events: none;
}

/* ========================================
 * Desktop: Images Container
 * Fixed sizes, fixed spacing
 * ======================================== */

.imagesContainer {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: scrapbook-enter var(--duration-slow) var(--ease-out) both; 
  animation-delay: var(--duration-fast);
}

/* Hide on mobile */
@media (max-width: 720px) {
  .imagesContainer {
    display: none;
  }
}

.slide {
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
  will-change: transform;
}

/* Fixed image size */
.image {
  position: relative;
  background-color: var(--bg-secondary);
  border: 1px solid var(--border-primary);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-quaternary);
  width: 460px;
  height: auto;
  border-radius: 8px;
}

.placeholderIcon {
  opacity: 0.4;
}

/* Caption tag overlaid on the image (matches case study imageTag) */
.imageTag {
  position: absolute;
  left: 6px;
  bottom: 6px;
  padding: 4px 8px;
  border-radius: 6px;
  font-size: var(--text-xs);
  font-weight: 500;
  color: var(--text-secondary);
  background: rgba(255, 255, 255, 0.65);
  border: 1px solid var(--border-primary);
  backdrop-filter: blur(10px) saturate(160%);
  -webkit-backdrop-filter: blur(10px) saturate(160%);
  white-space: nowrap;
}

@media (prefers-color-scheme: dark) {
  .imageTag {
    color: var(--text-primary);
    background: rgba(10, 10, 10, 0.6);
    border-color: rgba(255, 255, 255, 0.12);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
  }
}

/* ========================================
 * Mobile: Vertical Stack
 * ======================================== */

.mobileStack {
  display: none;
  flex-direction: column;
  gap: var(--mobile-stack-gap, var(--space-4));
  padding: 0 var(--space-8);
}

@media (max-width: 720px) {
  .mobileStack {
    display: flex;
  }
}

.stackImage {
  position: relative;
  background-color: var(--bg-secondary);
  border: 1px solid var(--border-primary);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-quaternary);
  width: 100%;
  border-radius: 8px;
}

.bottomControlsContainer {
  width: var(--container-width);
  margin: 0 auto;
  padding-left: var(--space-12);
  padding-right: var(--space-12);
}

.bottomControls {
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: var(--space-4);
  padding: var(--space-4) 0 var(--space-8);
}

.categoryNavLink {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  color: var(--text-primary);
  font-size: var(--text-sm);
  text-decoration: none;
  opacity: 0.6;
  white-space: nowrap;
  min-width: 5rem;
  transition:
    color var(--duration-fast) var(--ease-out),
    opacity var(--duration-fast) var(--ease-out),
    transform var(--duration-fast) var(--ease-out);
}

.categoryNavLink[data-direction='prev'] {
  justify-self: start;
}

.categoryNavLink[data-direction='next'] {
  justify-self: end;
}

.bottomControls :global(.ring) {
  justify-self: center;
}

.categoryNavLink:hover {
  text-decoration: none;
  opacity: 1;
}

@media (max-width: 720px) {
  .bottomControls {
    grid-template-columns: 1fr 1fr;
    padding: var(--space-4) 0 var(--space-6);
  }

  .categoryNavLink[data-direction='next'] {
    justify-self: end;
  }
}

/* ========================================
 * Reduced motion
 * ======================================== */

@media (prefers-reduced-motion: reduce) {
  .imagesContainer {
    animation: none;
  }

  .slide {
    transition: none;
  }
}

@keyframes scrapbook-enter {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
