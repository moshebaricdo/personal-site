---
description: Color system - palette, dark mode, CSS custom properties
globs: "**/*.css, **/*.module.css"
alwaysApply: false
---

# Color System

## Philosophy

Color is a reward, not a default. Start monochrome, add color only on interaction.

## Base Palette

```css
:root {
  /* Backgrounds */
  --bg-primary: #ffffff;
  --bg-secondary: #fafafa;
  --bg-tertiary: #f5f5f5;
  
  /* Text */
  --text-primary: #171717;    /* near-black, main content */
  --text-secondary: #525252;  /* gray-600, descriptions */
  --text-tertiary: #737373;   /* gray-500, metadata */
  --text-quaternary: #a3a3a3; /* gray-400, subtle hints */
  
  /* Borders */
  --border-primary: #e5e5e5;
  --border-secondary: #f5f5f5;
  
  /* Accent - appears on interaction only */
  --accent: #000000;
  --accent-hover: #171717;
}
```

## Dark Mode

Use `prefers-color-scheme` for automatic switching:

```css
@media (prefers-color-scheme: dark) {
  :root {
    /* Backgrounds */
    --bg-primary: #0a0a0a;
    --bg-secondary: #171717;
    --bg-tertiary: #262626;
    
    /* Text */
    --text-primary: #fafafa;
    --text-secondary: #d4d4d4;
    --text-tertiary: #a3a3a3;
    --text-quaternary: #737373;
    
    /* Borders */
    --border-primary: #262626;
    --border-secondary: #171717;
    
    /* Accent */
    --accent: #ffffff;
    --accent-hover: #e5e5e5;
  }
}
```

## Usage Patterns

```css
/* Base elements */
body {
  background-color: var(--bg-primary);
  color: var(--text-primary);
}

/* Secondary text */
.description {
  color: var(--text-secondary);
}

/* Muted/metadata */
.meta, time, .caption {
  color: var(--text-tertiary);
}

/* Borders */
.card {
  border: 1px solid var(--border-primary);
}

/* Accent on interaction */
a:hover {
  color: var(--accent);
}
```

## Selection Styling

High contrast selection for intentionality:

```css
::selection {
  background-color: var(--text-primary);
  color: var(--bg-primary);
}
```

## Brand Color Accent Pattern

For company links or special elements that reveal color on hover:

```css
.brand-link {
  --brand-color: #0061FE; /* e.g., Dropbox blue */
  color: var(--text-primary);
  transition: color 150ms ease-out;
}

.brand-link:hover {
  color: var(--brand-color);
}
```

## Color Don'ts

```css
/* ❌ Avoid */
background: linear-gradient(...);
box-shadow: 0 4px 20px rgba(0,0,0,0.3);
color: #3b82f6; /* random blue in body */

/* ✅ Prefer */
background-color: var(--bg-secondary);
box-shadow: 0 1px 2px rgba(0,0,0,0.05);
color: var(--text-secondary);
```

## Focus States

Accessible but subtle:

```css
:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}

/* Remove default focus ring when not keyboard navigating */
:focus:not(:focus-visible) {
  outline: none;
}
```
